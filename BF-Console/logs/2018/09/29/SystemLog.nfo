2018/09/29 14:25:26
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[PID] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [ntsu.sport99@gmail.com]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [9]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 14:25:27
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Document] AS [t0]
LEFT OUTER JOIN [dbo].[Article] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[Publication] AS [t2] ON [t2].[DocID] = [t1].[DocID]
WHERE ([t2].[StartDate] < @p0) AND ((NOT ([t2].[EndDate] IS NOT NULL)) OR ([t2].[EndDate] >= @p1)) AND ([t0].[DocType] = @p2)
-- @p0: Input Date (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input Date (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT TOP (1) [t4].[DocID], [t4].[Title], [t4].[ArticleContent], [t4].[AuthorID], [t4].[Illustration], [t4].[Subtitle]
FROM (
    SELECT [t3].[DocID], [t3].[Title], [t3].[ArticleContent], [t3].[AuthorID], [t3].[Illustration], [t3].[Subtitle], [t3].[ROW_NUMBER]
    FROM (
        SELECT ROW_NUMBER() OVER (ORDER BY [t1].[DocID]) AS [ROW_NUMBER], [t1].[DocID], [t1].[Title], [t1].[ArticleContent], [t1].[AuthorID], [t1].[Illustration], [t1].[Subtitle]
        FROM [dbo].[Document] AS [t0]
        LEFT OUTER JOIN [dbo].[Article] AS [t1] ON [t1].[DocID] = [t0].[DocID]
        LEFT OUTER JOIN [dbo].[Publication] AS [t2] ON [t2].[DocID] = [t1].[DocID]
        WHERE ([t2].[StartDate] < @p0) AND ((NOT ([t2].[EndDate] IS NOT NULL)) OR ([t2].[EndDate] >= @p1)) AND ([t0].[DocType] = @p2)
        ) AS [t3]
    WHERE [t3].[ROW_NUMBER] BETWEEN @p3 + 1 AND @p3 + @p4
    ) AS [t4]
ORDER BY [t4].[ROW_NUMBER]
-- @p0: Input Date (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input Date (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [110]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[ServingCoach] AS [t1]
    INNER JOIN ([dbo].[BranchStore] AS [t2]
        INNER JOIN [dbo].[CoachWorkplace] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[CoachID] = [t3].[CoachID]) ON [t0].[FitnessConsultant] = [t1].[CoachID]
WHERE ([t0].[Expiration] < @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[ServingCoach] AS [t1]
    INNER JOIN ([dbo].[BranchStore] AS [t2]
        INNER JOIN [dbo].[CoachWorkplace] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[CoachID] = [t3].[CoachID]) ON [t0].[FitnessConsultant] = [t1].[CoachID]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t4]
    WHERE ([t4].[RevisionID] = [t0].[ContractID]) AND ([t4].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t5]
    INNER JOIN [dbo].[RegisterLesson] AS [t6] ON [t6].[RegisterID] = [t5].[RegisterID]
    WHERE ([t6].[Attended] = @p1) AND ([t5].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p2) OR ([t2].[ViceManagerID] = @p3))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[ServingCoach] AS [t1]
    INNER JOIN ([dbo].[BranchStore] AS [t2]
        INNER JOIN [dbo].[CoachWorkplace] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[CoachID] = [t3].[CoachID]) ON [t0].[FitnessConsultant] = [t1].[CoachID]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t4]
    WHERE ([t4].[RevisionID] = [t0].[ContractID]) AND ([t4].[Reason] = @p0)
    ))) AND ([t0].[Expiration] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t5]
    INNER JOIN [dbo].[RegisterLesson] AS [t6] ON [t6].[RegisterID] = [t5].[RegisterID]
    WHERE ([t6].[Attended] = @p2) AND ([t5].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p3) OR ([t2].[ViceManagerID] = @p4))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE (([t0].[AgentID] = @p0) OR ([t0].[FitnessConsultant] = @p1)) AND ([t0].[Status] = @p2) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[ServingCoach] AS [t1]
    INNER JOIN ([dbo].[BranchStore] AS [t2]
        INNER JOIN [dbo].[CoachWorkplace] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[CoachID] = [t3].[CoachID]) ON [t0].[FitnessConsultant] = [t1].[CoachID]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t4]
    WHERE ([t4].[RevisionID] = [t0].[ContractID]) AND ([t4].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t5]
    INNER JOIN [dbo].[RegisterLesson] AS [t6] ON [t6].[RegisterID] = [t5].[RegisterID]
    WHERE ([t6].[Attended] = @p3) AND ([t5].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p4) OR ([t2].[ViceManagerID] = @p5))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
INNER JOIN ([dbo].[CourseContract] AS [t2]
    INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
        INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t2].[ContractID] = [t3].[ContractID]) ON [t0].[OriginalContract] = ([t2].[ContractID])
WHERE ([t1].[Status] = @p0) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
INNER JOIN ([dbo].[CourseContract] AS [t2]
    INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
        INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t2].[ContractID] = [t3].[ContractID]) ON [t0].[OriginalContract] = ([t2].[ContractID])
WHERE ([t1].[Status] = @p0) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
INNER JOIN ([dbo].[CourseContract] AS [t2]
    INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
        INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t2].[ContractID] = [t3].[ContractID]) ON [t0].[OriginalContract] = ([t2].[ContractID])
WHERE ([t1].[Status] = @p0) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1202]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
INNER JOIN ([dbo].[PaymentTransaction] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[PaymentID] = [t1].[PaymentID]
WHERE ([t0].[PayoffDate] >= @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
INNER JOIN ([dbo].[PaymentTransaction] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[PaymentID] = [t1].[PaymentID]
WHERE ([t0].[PayoffDate] >= @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 14:25:27
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7135]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:27:26
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[PID] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [ntsu.sport99@gmail.com]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [9]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:27:29
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Document] AS [t0]
LEFT OUTER JOIN [dbo].[Article] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[Publication] AS [t2] ON [t2].[DocID] = [t1].[DocID]
WHERE ([t2].[StartDate] < @p0) AND ((NOT ([t2].[EndDate] IS NOT NULL)) OR ([t2].[EndDate] >= @p1)) AND ([t0].[DocType] = @p2)
-- @p0: Input Date (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input Date (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT TOP (1) [t4].[DocID], [t4].[Title], [t4].[ArticleContent], [t4].[AuthorID], [t4].[Illustration], [t4].[Subtitle]
FROM (
    SELECT [t3].[DocID], [t3].[Title], [t3].[ArticleContent], [t3].[AuthorID], [t3].[Illustration], [t3].[Subtitle], [t3].[ROW_NUMBER]
    FROM (
        SELECT ROW_NUMBER() OVER (ORDER BY [t1].[DocID]) AS [ROW_NUMBER], [t1].[DocID], [t1].[Title], [t1].[ArticleContent], [t1].[AuthorID], [t1].[Illustration], [t1].[Subtitle]
        FROM [dbo].[Document] AS [t0]
        LEFT OUTER JOIN [dbo].[Article] AS [t1] ON [t1].[DocID] = [t0].[DocID]
        LEFT OUTER JOIN [dbo].[Publication] AS [t2] ON [t2].[DocID] = [t1].[DocID]
        WHERE ([t2].[StartDate] < @p0) AND ((NOT ([t2].[EndDate] IS NOT NULL)) OR ([t2].[EndDate] >= @p1)) AND ([t0].[DocType] = @p2)
        ) AS [t3]
    WHERE [t3].[ROW_NUMBER] BETWEEN @p3 + 1 AND @p3 + @p4
    ) AS [t4]
ORDER BY [t4].[ROW_NUMBER]
-- @p0: Input Date (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input Date (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [61]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE ([t0].[Expiration] < @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t3]
    WHERE ([t3].[RevisionID] = [t0].[ContractID]) AND ([t3].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t4]
    INNER JOIN [dbo].[RegisterLesson] AS [t5] ON [t5].[RegisterID] = [t4].[RegisterID]
    WHERE ([t5].[Attended] = @p1) AND ([t4].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p2) OR ([t2].[ViceManagerID] = @p3))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t3]
    WHERE ([t3].[RevisionID] = [t0].[ContractID]) AND ([t3].[Reason] = @p0)
    ))) AND ([t0].[Expiration] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t4]
    INNER JOIN [dbo].[RegisterLesson] AS [t5] ON [t5].[RegisterID] = [t4].[RegisterID]
    WHERE ([t5].[Attended] = @p2) AND ([t4].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p3) OR ([t2].[ViceManagerID] = @p4))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE (([t0].[AgentID] = @p0) OR ([t0].[FitnessConsultant] = @p1)) AND ([t0].[Status] = @p2) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t3]
    WHERE ([t3].[RevisionID] = [t0].[ContractID]) AND ([t3].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t4]
    INNER JOIN [dbo].[RegisterLesson] AS [t5] ON [t5].[RegisterID] = [t4].[RegisterID]
    WHERE ([t5].[Attended] = @p3) AND ([t4].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p4) OR ([t2].[ViceManagerID] = @p5))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
INNER JOIN ([dbo].[CourseContract] AS [t2]
    INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
        INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t2].[ContractID] = [t3].[ContractID]) ON [t0].[OriginalContract] = ([t2].[ContractID])
WHERE ([t1].[Status] = @p0) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
INNER JOIN ([dbo].[CourseContract] AS [t2]
    INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
        INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t2].[ContractID] = [t3].[ContractID]) ON [t0].[OriginalContract] = ([t2].[ContractID])
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1) AND (([t4].[ManagerID] = @p2) OR ([t4].[ViceManagerID] = @p3))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
INNER JOIN ([dbo].[PaymentTransaction] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[PaymentID] = [t1].[PaymentID]
WHERE ([t0].[PayoffDate] >= @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
INNER JOIN ([dbo].[PaymentTransaction] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[PaymentID] = [t1].[PaymentID]
WHERE ([t0].[PayoffDate] >= @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:27:30
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7135]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:35:38
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE ([t0].[Expiration] < @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t3]
    WHERE ([t3].[RevisionID] = [t0].[ContractID]) AND ([t3].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t4]
    INNER JOIN [dbo].[RegisterLesson] AS [t5] ON [t5].[RegisterID] = [t4].[RegisterID]
    WHERE ([t5].[Attended] = @p1) AND ([t4].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p2) OR ([t2].[ViceManagerID] = @p3))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t3]
    WHERE ([t3].[RevisionID] = [t0].[ContractID]) AND ([t3].[Reason] = @p0)
    ))) AND ([t0].[Expiration] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t4]
    INNER JOIN [dbo].[RegisterLesson] AS [t5] ON [t5].[RegisterID] = [t4].[RegisterID]
    WHERE ([t5].[Attended] = @p2) AND ([t4].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p3) OR ([t2].[ViceManagerID] = @p4))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE (([t0].[AgentID] = @p0) OR ([t0].[FitnessConsultant] = @p1)) AND ([t0].[Status] = @p2) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t3]
    WHERE ([t3].[RevisionID] = [t0].[ContractID]) AND ([t3].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t4]
    INNER JOIN [dbo].[RegisterLesson] AS [t5] ON [t5].[RegisterID] = [t4].[RegisterID]
    WHERE ([t5].[Attended] = @p3) AND ([t4].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p4) OR ([t2].[ViceManagerID] = @p5))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
INNER JOIN ([dbo].[CourseContract] AS [t2]
    INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
        INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t2].[ContractID] = [t3].[ContractID]) ON [t0].[OriginalContract] = ([t2].[ContractID])
WHERE ([t1].[Status] = @p0) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
INNER JOIN ([dbo].[CourseContract] AS [t2]
    INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
        INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t2].[ContractID] = [t3].[ContractID]) ON [t0].[OriginalContract] = ([t2].[ContractID])
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1) AND (([t4].[ManagerID] = @p2) OR ([t4].[ViceManagerID] = @p3))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
INNER JOIN ([dbo].[PaymentTransaction] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[PaymentID] = [t1].[PaymentID]
WHERE ([t0].[PayoffDate] >= @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t4] ON [t4].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t5].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t5]
    ) AS [t6] ON [t6].[InvoiceID] = [t4].[InvoiceID]
WHERE ([t6].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
INNER JOIN ([dbo].[PaymentTransaction] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[PaymentID] = [t1].[PaymentID]
WHERE ([t0].[PayoffDate] >= @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:35:38
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7135]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:48:47
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:49:31
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE ([t0].[Expiration] < @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t3]
    WHERE ([t3].[RevisionID] = [t0].[ContractID]) AND ([t3].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t4]
    INNER JOIN [dbo].[RegisterLesson] AS [t5] ON [t5].[RegisterID] = [t4].[RegisterID]
    WHERE ([t5].[Attended] = @p1) AND ([t4].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p2) OR ([t2].[ViceManagerID] = @p3))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t3]
    WHERE ([t3].[RevisionID] = [t0].[ContractID]) AND ([t3].[Reason] = @p0)
    ))) AND ([t0].[Expiration] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t4]
    INNER JOIN [dbo].[RegisterLesson] AS [t5] ON [t5].[RegisterID] = [t4].[RegisterID]
    WHERE ([t5].[Attended] = @p2) AND ([t4].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p3) OR ([t2].[ViceManagerID] = @p4))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE (([t0].[AgentID] = @p0) OR ([t0].[FitnessConsultant] = @p1)) AND ([t0].[Status] = @p2) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
INNER JOIN ([dbo].[CourseContractExtension] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[ContractID] = [t1].[ContractID]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t3]
    WHERE ([t3].[RevisionID] = [t0].[ContractID]) AND ([t3].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t4]
    INNER JOIN [dbo].[RegisterLesson] AS [t5] ON [t5].[RegisterID] = [t4].[RegisterID]
    WHERE ([t5].[Attended] = @p3) AND ([t4].[ContractID] = [t0].[ContractID])
    ))) AND (([t2].[ManagerID] = @p4) OR ([t2].[ViceManagerID] = @p5))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
INNER JOIN ([dbo].[CourseContract] AS [t2]
    INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
        INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t2].[ContractID] = [t3].[ContractID]) ON [t0].[OriginalContract] = ([t2].[ContractID])
WHERE ([t1].[Status] = @p0) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
    INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t0].[ContractID] = [t3].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL) AND (([t4].[ManagerID] = @p1) OR ([t4].[ViceManagerID] = @p2))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
INNER JOIN ([dbo].[CourseContract] AS [t2]
    INNER JOIN ([dbo].[CourseContractExtension] AS [t3]
        INNER JOIN [dbo].[BranchStore] AS [t4] ON [t3].[BranchID] = [t4].[BranchID]) ON [t2].[ContractID] = [t3].[ContractID]) ON [t0].[OriginalContract] = ([t2].[ContractID])
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1) AND (([t4].[ManagerID] = @p2) OR ([t4].[ViceManagerID] = @p3))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
INNER JOIN ([dbo].[PaymentTransaction] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[PaymentID] = [t1].[PaymentID]
WHERE ([t0].[PayoffDate] >= @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t4] ON [t4].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t5].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t5]
    ) AS [t6] ON [t6].[InvoiceID] = [t4].[InvoiceID]
WHERE ([t6].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
INNER JOIN ([dbo].[PaymentTransaction] AS [t1]
    INNER JOIN [dbo].[BranchStore] AS [t2] ON [t1].[BranchID] = [t2].[BranchID]) ON [t0].[PaymentID] = [t1].[PaymentID]
WHERE ([t0].[PayoffDate] >= @p0) AND (([t2].[ManagerID] = @p1) OR ([t2].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN ([dbo].[Payment] AS [t1]
    INNER JOIN ([dbo].[PaymentTransaction] AS [t2]
        INNER JOIN [dbo].[BranchStore] AS [t3] ON [t2].[BranchID] = [t3].[BranchID]) ON [t1].[PaymentID] = [t2].[PaymentID]) ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t0].[VoidDate] >= @p0) AND (([t3].[ManagerID] = @p1) OR ([t3].[ViceManagerID] = @p2))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2086]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:49:31
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7135]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:50:35
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE ([t0].[PID] = @p0) AND ([t0].[LevelID] = @p1)
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [bbbbbillhuang@gmail.com]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1003]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:50:36
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE [t0].[Expiration] < @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND ([t0].[Expiration] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p2) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE (([t0].[AgentID] = @p0) OR ([t0].[FitnessConsultant] = @p1)) AND ([t0].[Status] = @p2) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[FitnessConsultant] = @p0) AND ([t0].[Status] = @p1) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE (@p0 = 1) AND ([t0].[Status] = @p1) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE ([t1].[FitnessConsultant] = @p0) AND ([t1].[Status] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE (@p0 = 1) AND ([t0].[Status] = @p1) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:50:36
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7134]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:51:28
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE ([t0].[PID] = @p0) AND ([t0].[LevelID] = @p1)
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [info@beyond-fitness.tw]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1003]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [8]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:51:29
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE [t0].[Expiration] < @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND ([t0].[Expiration] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p2) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:51:29
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1155]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:54:39
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE [t0].[Expiration] < @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND ([t0].[Expiration] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p2) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 15:54:39
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1155]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:00:59
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE ([t0].[PID] = @p0) AND ([t0].[LevelID] = @p1)
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [info@beyond-fitness.tw]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1003]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [8]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:01:00
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE [t0].[Expiration] < @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND ([t0].[Expiration] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p2) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:01:00
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1155]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:08:29
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[PID] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [info@beyond-fitness.tw]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [8]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:08:34
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Document] AS [t0]
LEFT OUTER JOIN [dbo].[Article] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[Publication] AS [t2] ON [t2].[DocID] = [t1].[DocID]
WHERE ([t2].[StartDate] < @p0) AND ((NOT ([t2].[EndDate] IS NOT NULL)) OR ([t2].[EndDate] >= @p1)) AND ([t0].[DocType] = @p2)
-- @p0: Input Date (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input Date (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT TOP (1) [t4].[DocID], [t4].[Title], [t4].[ArticleContent], [t4].[AuthorID], [t4].[Illustration], [t4].[Subtitle]
FROM (
    SELECT [t3].[DocID], [t3].[Title], [t3].[ArticleContent], [t3].[AuthorID], [t3].[Illustration], [t3].[Subtitle], [t3].[ROW_NUMBER]
    FROM (
        SELECT ROW_NUMBER() OVER (ORDER BY [t1].[DocID]) AS [ROW_NUMBER], [t1].[DocID], [t1].[Title], [t1].[ArticleContent], [t1].[AuthorID], [t1].[Illustration], [t1].[Subtitle]
        FROM [dbo].[Document] AS [t0]
        LEFT OUTER JOIN [dbo].[Article] AS [t1] ON [t1].[DocID] = [t0].[DocID]
        LEFT OUTER JOIN [dbo].[Publication] AS [t2] ON [t2].[DocID] = [t1].[DocID]
        WHERE ([t2].[StartDate] < @p0) AND ((NOT ([t2].[EndDate] IS NOT NULL)) OR ([t2].[EndDate] >= @p1)) AND ([t0].[DocType] = @p2)
        ) AS [t3]
    WHERE [t3].[ROW_NUMBER] BETWEEN @p3 + 1 AND @p3 + @p4
    ) AS [t4]
ORDER BY [t4].[ROW_NUMBER]
-- @p0: Input Date (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input Date (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [80]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE [t0].[Expiration] < @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] >= @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:08:34
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1155]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:12:41
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] < @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] >= @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:12:42
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1155]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:19:17
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND ([t0].[UID] = @p2)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] < @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] >= @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1202]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:19:17
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1155]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:33:33
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[PID] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [info@beyond-fitness.tw]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[RoleID], [t0].[SiteMenu], [t0].[Role]
FROM [dbo].[UserRoleDefinition] AS [t0]
WHERE [t0].[RoleID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [8]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:33:36
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Document] AS [t0]
LEFT OUTER JOIN [dbo].[Article] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[Publication] AS [t2] ON [t2].[DocID] = [t1].[DocID]
WHERE ([t2].[StartDate] < @p0) AND ((NOT ([t2].[EndDate] IS NOT NULL)) OR ([t2].[EndDate] >= @p1)) AND ([t0].[DocType] = @p2)
-- @p0: Input Date (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input Date (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT TOP (1) [t4].[DocID], [t4].[Title], [t4].[ArticleContent], [t4].[AuthorID], [t4].[Illustration], [t4].[Subtitle]
FROM (
    SELECT [t3].[DocID], [t3].[Title], [t3].[ArticleContent], [t3].[AuthorID], [t3].[Illustration], [t3].[Subtitle], [t3].[ROW_NUMBER]
    FROM (
        SELECT ROW_NUMBER() OVER (ORDER BY [t1].[DocID]) AS [ROW_NUMBER], [t1].[DocID], [t1].[Title], [t1].[ArticleContent], [t1].[AuthorID], [t1].[Illustration], [t1].[Subtitle]
        FROM [dbo].[Document] AS [t0]
        LEFT OUTER JOIN [dbo].[Article] AS [t1] ON [t1].[DocID] = [t0].[DocID]
        LEFT OUTER JOIN [dbo].[Publication] AS [t2] ON [t2].[DocID] = [t1].[DocID]
        WHERE ([t2].[StartDate] < @p0) AND ((NOT ([t2].[EndDate] IS NOT NULL)) OR ([t2].[EndDate] >= @p1)) AND ([t0].[DocType] = @p2)
        ) AS [t3]
    WHERE [t3].[ROW_NUMBER] BETWEEN @p3 + 1 AND @p3 + @p4
    ) AS [t4]
ORDER BY [t4].[ROW_NUMBER]
-- @p0: Input Date (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input Date (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [7]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [129]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2083]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] < @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] >= @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1202]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:33:36
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1155]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:38:40
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE (([t0].[UID] = @p0) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p1) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ([t0].[StartDate] <= @p0) AND ([t0].[EndDate] >= @p1) AND (([t0].[UID] = @p2) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p3) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p4)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] < @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] >= @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1202]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:38:41
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1155]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:43:29
SELECT TOP (1) [t0].[UID], [t0].[UserName], [t0].[PID], [t0].[Password], [t0].[ExternalID], [t0].[Expiration], [t0].[Creator], [t0].[AuthID], [t0].[LevelID], [t0].[ThemeName], [t0].[Password2], [t0].[MemberCode], [t0].[PictureID], [t0].[RealName], [t0].[Address], [t0].[Phone], [t0].[RecentStatus], [t0].[Birthday], [t0].[Nickname], [t0].[BirthdateIndex]
FROM [dbo].[UserProfile] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT SUM([t0].[DurationInMinutes]) AS [value]
FROM [dbo].[LessonTime] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t1]
    ) AS [t2] ON [t2].[LessonID] = [t0].[LessonID]
INNER JOIN ([dbo].[GroupingLesson] AS [t3]
    INNER JOIN ([dbo].[RegisterLesson] AS [t4]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t5] ON [t5].[PriceID] = [t4].[ClassLevel]) ON ([t3].[GroupID]) = [t4].[RegisterGroupID]) ON [t0].[GroupID] = ([t3].[GroupID])
WHERE ([t0].[ClassTime] >= @p0) AND ([t0].[ClassTime] < @p1) AND ([t2].[test] IS NOT NULL) AND ([t4].[UID] = @p2) AND ([t5].[Status] = @p3)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [8/30/2018 12:00:00 AM]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1005]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRole] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT [t0].[UID], [t0].[RoleID]
FROM [dbo].[UserRoleAuthorization] AS [t0]
WHERE [t0].[UID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ((([t0].[StartDate] >= @p0) AND ([t0].[StartDate] < @p1)) OR (([t0].[EndDate] >= @p2) AND ([t0].[EndDate] < @p3)) OR (([t0].[StartDate] < @p4) AND ([t0].[EndDate] >= @p5))) AND (([t0].[UID] = @p6) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p7) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p8)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p4: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p5: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ((([t0].[StartDate] >= @p0) AND ([t0].[StartDate] < @p1)) OR (([t0].[EndDate] >= @p2) AND ([t0].[EndDate] < @p3)) OR (([t0].[StartDate] < @p4) AND ([t0].[EndDate] >= @p5))) AND (([t0].[UID] = @p6) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p7) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p8)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p4: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/25/2018 12:00:00 AM]
-- @p5: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ((([t0].[StartDate] >= @p0) AND ([t0].[StartDate] < @p1)) OR (([t0].[EndDate] >= @p2) AND ([t0].[EndDate] < @p3)) OR (([t0].[StartDate] < @p4) AND ([t0].[EndDate] >= @p5))) AND (([t0].[UID] = @p6) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p7) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p8)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p4: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/26/2018 12:00:00 AM]
-- @p5: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ((([t0].[StartDate] >= @p0) AND ([t0].[StartDate] < @p1)) OR (([t0].[EndDate] >= @p2) AND ([t0].[EndDate] < @p3)) OR (([t0].[StartDate] < @p4) AND ([t0].[EndDate] >= @p5))) AND (([t0].[UID] = @p6) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p7) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p8)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p4: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/27/2018 12:00:00 AM]
-- @p5: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ((([t0].[StartDate] >= @p0) AND ([t0].[StartDate] < @p1)) OR (([t0].[EndDate] >= @p2) AND ([t0].[EndDate] < @p3)) OR (([t0].[StartDate] < @p4) AND ([t0].[EndDate] >= @p5))) AND (([t0].[UID] = @p6) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p7) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p8)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p4: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/28/2018 12:00:00 AM]
-- @p5: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ((([t0].[StartDate] >= @p0) AND ([t0].[StartDate] < @p1)) OR (([t0].[EndDate] >= @p2) AND ([t0].[EndDate] < @p3)) OR (([t0].[StartDate] < @p4) AND ([t0].[EndDate] >= @p5))) AND (([t0].[UID] = @p6) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p7) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p8)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p4: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p5: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
WHERE ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UserEvent] AS [t0]
WHERE ((([t0].[StartDate] >= @p0) AND ([t0].[StartDate] < @p1)) OR (([t0].[EndDate] >= @p2) AND ([t0].[EndDate] < @p3)) OR (([t0].[StartDate] < @p4) AND ([t0].[EndDate] >= @p5))) AND (([t0].[UID] = @p6) OR (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[GroupEvent] AS [t1]
    WHERE ([t1].[UID] = @p7) AND ([t1].[EventID] = [t0].[EventID])
    ))) AND ([t0].[EventType] = @p8)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p4: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p5: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t16].[LessonID], [t16].[ClassTime]
    FROM (
        SELECT [t8].[LessonID], [t8].[RegisterID], [t8].[ClassTime], [t8].[DurationInMinutes], [t8].[InvitedCoach], [t8].[AttendingCoach], [t8].[GroupID], [t8].[TrainingBySelf], [t8].[BranchID], [t8].[HourOfClassTime]
        FROM (
            SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t0]
            INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
            LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
            LEFT OUTER JOIN (
                SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
                FROM [dbo].[RegisterLessonEnterprise] AS [t3]
                ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
            LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
            LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
            WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
            UNION
            SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
            FROM [dbo].[LessonTime] AS [t7]
            WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
            ) AS [t8]
        UNION
        SELECT [t9].[LessonID], [t9].[RegisterID], [t9].[ClassTime], [t9].[DurationInMinutes], [t9].[InvitedCoach], [t9].[AttendingCoach], [t9].[GroupID], [t9].[TrainingBySelf], [t9].[BranchID], [t9].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t9]
        INNER JOIN [dbo].[RegisterLesson] AS [t10] ON [t10].[RegisterID] = [t9].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t11] ON [t11].[PriceID] = [t10].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t12].[RegisterID], [t12].[ContractID], [t12].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t12]
            ) AS [t13] ON [t13].[RegisterID] = [t10].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t14] ON ([t14].[ContractID] = [t13].[ContractID]) AND ([t14].[TypeID] = [t13].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t15] ON [t15].[TypeID] = [t14].[TypeID]
        WHERE (([t11].[Status] = @p8) OR (([t13].[test] IS NOT NULL) AND ([t15].[Status] = @p9))) AND ([t9].[AttendingCoach] = @p10)
        ) AS [t16]
    ) AS [t17]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t18].[LessonID]
    FROM [dbo].[LessonAttendance] AS [t18]
    ) AS [t19] ON [t19].[LessonID] = ([t17].[LessonID])
WHERE ([t19].[test] IS NULL) AND ([t17].[ClassTime] >= @p11) AND ([t17].[ClassTime] < @p12)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [1006]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/24/2018 12:00:00 AM]
-- @p12: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM (
    SELECT [t8].[LessonID], [t8].[ClassTime]
    FROM (
        SELECT [t0].[LessonID], [t0].[RegisterID], [t0].[ClassTime], [t0].[DurationInMinutes], [t0].[InvitedCoach], [t0].[AttendingCoach], [t0].[GroupID], [t0].[TrainingBySelf], [t0].[BranchID], [t0].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t0]
        INNER JOIN [dbo].[RegisterLesson] AS [t1] ON [t1].[RegisterID] = [t0].[RegisterID]
        LEFT OUTER JOIN [dbo].[LessonPriceType] AS [t2] ON [t2].[PriceID] = [t1].[ClassLevel]
        LEFT OUTER JOIN (
            SELECT 1 AS [test], [t3].[RegisterID], [t3].[ContractID], [t3].[TypeID]
            FROM [dbo].[RegisterLessonEnterprise] AS [t3]
            ) AS [t4] ON [t4].[RegisterID] = [t1].[RegisterID]
        LEFT OUTER JOIN [dbo].[EnterpriseCourseContent] AS [t5] ON ([t5].[ContractID] = [t4].[ContractID]) AND ([t5].[TypeID] = [t4].[TypeID])
        LEFT OUTER JOIN [dbo].[EnterpriseLessonType] AS [t6] ON [t6].[TypeID] = [t5].[TypeID]
        WHERE ((([t2].[Status]) IN (@p0, @p1, @p2)) OR (([t4].[test] IS NOT NULL) AND ([t6].[Status] IN (@p3, @p4)))) AND ([t0].[AttendingCoach] = @p5)
        UNION
        SELECT [t7].[LessonID], [t7].[RegisterID], [t7].[ClassTime], [t7].[DurationInMinutes], [t7].[InvitedCoach], [t7].[AttendingCoach], [t7].[GroupID], [t7].[TrainingBySelf], [t7].[BranchID], [t7].[HourOfClassTime]
        FROM [dbo].[LessonTime] AS [t7]
        WHERE ([t7].[TrainingBySelf] = @p6) AND ([t7].[AttendingCoach] = @p7)
        ) AS [t8]
    ) AS [t9]
LEFT OUTER JOIN [dbo].[LessonPlan] AS [t10] ON [t10].[LessonID] = ([t9].[LessonID])
WHERE (NOT ([t10].[CommitAttendance] IS NOT NULL)) AND ([t9].[ClassTime] < @p8) AND ([t9].[ClassTime] >= @p9) AND ([t9].[ClassTime] < @p10)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1008]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/30/2018 12:00:00 AM]
-- @p9: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p10: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] < @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p0)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p1) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[Expiration] >= @p0) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p1)
    ))) AND ([t0].[Expiration] < @p2) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/29/2018 12:00:00 AM]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t1].[RevisionID]
    FROM [dbo].[CourseContractRevision] AS [t1]
    ) AS [t2] ON [t2].[RevisionID] = [t0].[ContractID]
WHERE ([t0].[Status] = @p0) AND ([t2].[test] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContract] AS [t0]
WHERE ([t0].[EffectiveDate] >= @p0) AND ([t0].[EffectiveDate] < @p1) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[CourseContractRevision] AS [t1]
    WHERE ([t1].[RevisionID] = [t0].[ContractID]) AND ([t1].[Reason] = @p2)
    ))) AND (NOT (EXISTS(
    SELECT NULL AS [EMPTY]
    FROM [dbo].[RegisterLessonContract] AS [t2]
    INNER JOIN [dbo].[RegisterLesson] AS [t3] ON [t3].[RegisterID] = [t2].[RegisterID]
    WHERE ([t3].[Attended] = @p3) AND ([t2].[ContractID] = [t0].[ContractID])
    )))
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [展延]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t1].[ContractID] = [t0].[RevisionID]
WHERE [t1].[Status] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1202]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[CourseContractRevision] AS [t0]
INNER JOIN [dbo].[CourseContract] AS [t1] ON [t0].[RevisionID] = [t1].[ContractID]
WHERE ([t1].[EffectiveDate] < @p0) AND ([t1].[EffectiveDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [10/1/2018 12:00:00 AM]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/1/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t2] ON [t2].[InvoiceID] = [t1].[InvoiceID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID]
    FROM [dbo].[InvoiceCancellation] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t2].[InvoiceID]
WHERE ([t4].[test] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE ([t1].[AllowanceID] IS NOT NULL) AND ([t0].[VoidDate] >= @p0)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[Payment] AS [t0]
WHERE [t0].[PayoffDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0

SELECT COUNT(*) AS [value]
FROM [dbo].[VoidPayment] AS [t0]
INNER JOIN [dbo].[Payment] AS [t1] ON [t0].[VoidID] = [t1].[PaymentID]
WHERE [t0].[VoidDate] >= @p0
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [9/29/2018 12:00:00 AM]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


2018/09/29 16:43:29
SELECT TOP (1) [t0].[AttachmentID], [t0].[StoredPath], [t0].[DocID]
FROM [dbo].[Attachment] AS [t0]
WHERE [t0].[AttachmentID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1155]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.7.3056.0


